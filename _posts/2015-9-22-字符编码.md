---
layout: post
title: 字符编码
published: false
tags: [ascii,编码,GBK,UTF-8,Unicode]
---

https://zh.wikipedia.org/wiki/Unicode

http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html

http://www.unicode.org/Public/UCD/latest/charts/CodeCharts.pdf

https://zh.wikipedia.org/wiki/GB_2312

https://zh.wikipedia.org/wiki/%E6%B1%89%E5%AD%97%E5%86%85%E7%A0%81%E6%89%A9%E5%B1%95%E8%A7%84%E8%8C%83

字符编码问题相信大多数程序员遇到过，令人很是头疼，本文在参考了一些文献、博客之后总结了一些编码的知识。

从最基础也是最早开始的编码讲起。

## ASCII码

一开始美国人搞出来一套编码，称为ASCII码，用一个字节表示，8位能够表示256个字符，足够美国人用的了，事实上他们只用到了128个字符，还有位就空着了。

接着，西欧人发现他们的语言没法用纯粹的英语字母表示（像法语会有音调），他们就扩展了ASCII码，因为原来还剩一位没用到，正好又可以加128个字符。

> ASCII码表可以在这里找到：[http://www.asciima.com/](http://www.asciima.com/)

## MBCS

计算机在发展到其他国家的时候发现，每个国家的语言各种各样，ASCII码明显不可以用了，然后每个国家都开始编写自己国家的编码，统称为MBCS，全称：Muilti-Bytes Charecter Set，多字节字符集。其实大多数国家的字符都可以用两个字节表示，所以多字节字符集一般也认为是双字节字符集。

> **注：**这样一来，不同的国家，同一个编码可能会表示不同的字符，这是个问题，后面再讲。

### GB2312

MBCS在中国就是1980年发布的GB2312，就是国标的拼音，这个编码用区位码（94个区，每区94个字符）的方式表示了6763个汉字和包括拉丁字母、希腊字母、日文平假名及片假名字母、俄语西里尔字母在内的682个字符，它所收录的汉字已经覆盖中国大陆99.75%的使用频率，基本可以满足汉字计算机的需要了。

GB2312采用EUC存储方式，这个存储方式通俗地说就是用高位字节和地位字节的不同范围表示不同字符，两个字节分别加上0xA0，这样可以和ASCII码兼容，也可以和日文、朝鲜文字兼容共存。

### GBK

后来人们又发现，7000多个字符似乎还是涵盖不了所有的字符，比如某个国家领导人的名字。这就需要扩展，怎么扩展呢？GB2312用了两个字节，16位可以表示65536个字符，而GB2312其实才占用了7000多个字符，还有大量的字符可以扩展，所以GBK诞生了（国标扩展的拼音），同样两个字节，完全兼容GB2312编码。他把一些没包括的中文简体、中文繁体、日文片假也同时包含在内（可惜韩文没有包含）。

> 微软的CP936一般来说等同于GBK。

## Unicode

重点来了，刚才说到每个国家的MBCS的编码不一样，同一个编码对应的字符会有冲突，这样就导致不同编码的计算机通讯成为了问题，为了解决这个问题，人们又重新搞出来一套编码：Unicode。Unicode一般使用2个字节，可以表示65536个字符，也就是UCS-2，理论上所有国家的字符加起来都可以包含进去，不过事实上还是有不常使用的字符没有包含进去，所以还有个4个字节的UCS-4，这样32位的编码毫无疑问可以全部包含字符。

> 你可以在[http://www.unicode.org/Public/UCD/latest/charts/CodeCharts.pdf](http://www.unicode.org/Public/UCD/latest/charts/CodeCharts.pdf)找到unicode的所有字符及编码（这个文档有98M...）。

### utf-8

unicode是一个大的字符集，把世界上形形色色的字符用编码表示起来，但是本着存储空间节约的原则，不可能把所有字符都用4个字节来表示，这样一来，utf-8就诞生了。

注意一点，unicode是字符集，utf-8是unicode的传输实现方式，用于网络传输。