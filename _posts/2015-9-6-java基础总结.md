---
layout: post
title: java基础总结
tags: [java,Collection,map]
---

> 正式工作两年有余，从新手一路走过来，要学的东西还是远远不够，还需努力。这篇文章就是要重新捡起java基础，重新梳理一遍原来以为掌握的知识点。

## 集合框架

java集合框架可以说是java中的基础，也是重点，对于做java和android的人来说必须掌握。

假设我们现在要自己写一个集合的框架，怎么做？

首先，集合分为两种，一种是直接聚合对象的，一种是聚合键值对的，对应的接口就会有Collection和Map。

对于直接聚合对象的接口来说，我可以是无序的对象，就像数学意义上的集合，可以是有序的对象集合，类似一个列表。这样的话我们就应该有set接口和list接口。

> 自己构建的话说实话只能想到这些，至于队列，我的想法是更方便的实现而已，而不是必须的实现。

为了不混淆这些集合结构，我决定就讲这些，其他的比如arraylist，hashmap都是这几个基础接口的实现而已。

### TIPS

- 少用vector
- Arraylist不是线程安全的
- Arrays.asList()方法得到的是固定长度的Arraylist（和普通的Arraylist还有区别），所以不能添加或删除元素。
- Arraylist使用数组存储，linkedlist使用链表存储
- Tree相关的类比如TreeMap之类的会根据值排序（升序）
- hashtable和hashmap的区别就是前者是线程安全，键不能为null，后者反之
- linkedlist具有很多功能，比如实现了list，就有列表的功能，实现了双向队列，还实现了栈，总之功能很强大。不过由此会产生性能问题。

## 异常处理

java的异常处理也是比较庞大的一个系统，我们还是以自己去搭建一个系统的角度去分析整个异常处理框架。

首先异常都是可以抛出的，所以就有一个类叫：`Throwable`，看含义就是可抛出的。这个类有几个基本的成员，比如错误信息、异常在堆栈中的位置等等,有了异常在堆栈中的位置的话我们就可以知道错误在哪儿了，方便调试，很多开源的Log工具包就是利用了这个东西写的。

然后`Throwable`下面有一个`Exception`，一个`Error`，顾名思义，一个就是异常，其实是我们代码的异常，另一个是错误，这个比较严重，一般是jvm的问题，发生了`Error`的话也不需要处理了。

> 我看代码的话是没太理解`Exception`和`Error`类的区别，除了`serialVersionUID`值不同，其他都一样......

想象我们的代码，一般catch到的是不是都是`Exception`？没错。`Exception`其实还分为运行时和非运行时（也叫checked异常），什么是非运行时，我的理解就是编译的时候，所以我们会看到有些IO操作或者网络操作编译器会检查代码并强制让我们catch一些`Exception`，否则编译通不过，这些就是非运行时异常，运行时异常就是我们不catch也能编译通过，直到运行的时候才会出现的错误，比如空指针、数组越界，这些异常我不运行代码编译器是不可能知道的，像这种异常我们程序不应该去手动捕获的，因为这是我们代码的问题，我们要做的是检查代码！

> 冒进式编程就是这样，如果程序不是按我们想象的运行，就应该让程序崩溃或者发出明显的信号告诉我们程序有错！